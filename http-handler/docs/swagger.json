{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/": {
            "get": {
                "description": "Returns the current server time. If the user is not authenticated, returns a fixed default time.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "testing"
                ],
                "summary": "Get current server time",
                "responses": {
                    "200": {
                        "description": "Current time in RFC3339 format",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/change-password": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Allows a connected param to change their password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Change password for authenticated param",
                "parameters": [
                    {
                        "description": "New password payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.ChangePasswordRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Password changed successfully"
                    },
                    "400": {
                        "description": "Bad request (invalid JSON)",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Unauthorized (not connected or param not found)",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/court/all": {
            "get": {
                "description": "Retourne la liste de tous les terrains enregistrés en base de données",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "terrain"
                ],
                "summary": "Liste tous les terrains",
                "responses": {
                    "200": {
                        "description": "Liste des terrains",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.DBCourt"
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur lors de la récupération des terrains",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/court/{id}": {
            "get": {
                "description": "Retourne les informations d’un terrain (court) en fonction de son identifiant passé dans l’URL",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "terrain"
                ],
                "summary": "Récupère un terrain par son ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du terrain",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Terrain trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.DBCourt"
                        }
                    },
                    "400": {
                        "description": "ID manquant ou invalide",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Terrain non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur ou base de données",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/forgot-password": {
            "post": {
                "description": "Generate a new password and send it via email to the param if the account exists",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Request password reset",
                "parameters": [
                    {
                        "description": "Email of the param",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.MailerRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success even if param does not exist (for security)"
                    },
                    "400": {
                        "description": "Bad request (invalid JSON or email format)",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/hello_world": {
            "get": {
                "description": "Returns a greeting with the provided name",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "testing"
                ],
                "summary": "Say Hello",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Name to greet",
                        "name": "name",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.HelloWorldResponse"
                        }
                    }
                }
            }
        },
        "/join/match/{id}": {
            "post": {
                "description": "Permet à un utilisateur authentifié de rejoindre un match existant, si ce n’est pas déjà fait",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Un utilisateur rejoint un match",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Informations pour rejoindre un match (team)",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.JoinMatchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Identifiant manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Match non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "409": {
                        "description": "Utilisateur déjà inscrit au match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur lors de l'inscription de l'utilisateur au match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "description": "Authenticate a user with username and password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Login a user",
                "parameters": [
                    {
                        "description": "User credentials",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.LoginResponse"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match": {
            "post": {
                "description": "Enregistre un nouveau match en base de données à partir des données fournies en JSON",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Crée un nouveau match",
                "parameters": [
                    {
                        "description": "Objet match à créer",
                        "name": "match",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.MatchRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Match créé avec succès",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides ou champ ID manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur lors de la création du match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/all": {
            "get": {
                "description": "Retourne la liste complète de tous les matchs stockés en base",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Liste tous les matchs",
                "responses": {
                    "200": {
                        "description": "Liste des matchs",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.MatchResponse"
                            }
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur lors de la récupération des matchs",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/court/{courtId}": {
            "get": {
                "description": "Retourne les matchs associés à un terrain (court) via son ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Liste des matchs pour un court",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du terrain",
                        "name": "courtId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.MatchResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "ID manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Aucun match trouvé pour ce terrain",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur interne serveur ou base",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/{id}": {
            "get": {
                "description": "Retourne les informations d’un match en fonction de son identifiant passé en paramètre de requête",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Récupère un match par son ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Match trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.MatchResponse"
                        }
                    },
                    "400": {
                        "description": "ID manquant ou invalide",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Match non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur ou base de données",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            },
            "delete": {
                "description": "Supprime un match via son ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Supprime un match",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du match à supprimer",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "ID manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur lors de la suppression du match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/{id}/finish": {
            "patch": {
                "description": "Passe un match de l’état \"En cours\" à \"Manque Score\" afin de permettre la saisie/validation des scores.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Termine un match (passage à la saisie des scores)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "ID manquant, mauvais état, ou utilisateur non inscrit au match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Match non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur ou base de données",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/{id}/start": {
            "patch": {
                "description": "Passe un match de l’état \"Valide\" à \"En cours\" et met à jour la date de début à maintenant.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Démarre un match",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "ID manquant, mauvais état, ou utilisateur non inscrit au match",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Match non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur ou base de données",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/match/{id}/vote-status": {
            "get": {
                "description": "Renvoie l'équipe du joueur, si son équipe a voté et le score voté (nullable), et la même info pour l'équipe adverse. Ne fonctionne que si le match est en statut \"Termine\".",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Statut de vote des scores (par équipe) pour un match terminé",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.MatchVoteStatusResponse"
                        }
                    },
                    "400": {
                        "description": "ID manquant, mauvais état",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Match ou utilisateur non trouvé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/place": {
            "post": {
                "description": "Appelle l'API Google Places pour synchroniser les terrains autour d'une position donnée (Paris en dur pour l'instant)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "google"
                ],
                "summary": "Synchronise les terrains depuis l'API Google Places",
                "responses": {
                    "201": {
                        "description": "Synchro réussie"
                    },
                    "500": {
                        "description": "Erreur lors de la synchronisation",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/profile_picture/{id}": {
            "post": {
                "description": "Uploads a profile picture to an S3 bucket",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "upload"
                ],
                "summary": "Upload a profile picture to S3",
                "parameters": [
                    {
                        "type": "file",
                        "description": "Image file to upload",
                        "name": "image",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    },
                    "400": {
                        "description": "Bad request or file not found",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/ranking/court/{id}": {
            "get": {
                "description": "Retourne la liste des utilisateurs et leur ELO pour un court donné, triée par ELO croissant",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ranking"
                ],
                "summary": "Classement ELO par terrain",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant du court",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.CourtRankingResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "ID manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur / base",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/ranking/user/{userId}": {
            "get": {
                "description": "Retourne uniquement la liste des fields associés à un utilisateur (ex: terrains classés/évalués)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Liste des terrains (fields) d’un utilisateur",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant de l'utilisateur",
                        "name": "userId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.Field"
                            }
                        }
                    },
                    "400": {
                        "description": "userId manquant",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Utilisateur non autorisé",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur serveur / base",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/register": {
            "post": {
                "description": "Register a user with username and password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Register a new user",
                "parameters": [
                    {
                        "description": "User credentials",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/models.LoginResponse"
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "User already exists",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/reset-password/{token}": {
            "get": {
                "description": "Vérifie le token JWT fourni, génère un nouveau mot de passe, l'envoie par email à l'utilisateur et met à jour le mot de passe dans la base de données",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "text/html"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Réinitialise le mot de passe d’un utilisateur via un lien sécurisé",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token JWT de réinitialisation",
                        "name": "token",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "HTML indiquant que le mot de passe a été envoyé (même si l'utilisateur n'existe pas pour des raisons de sécurité)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Requête invalide (ex: token manquant)",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur (génération du mot de passe, envoi de mail, ou mise à jour en base)",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/score/match/{id}": {
            "patch": {
                "description": "Met à jour les scores (score1 et score2) d’un match via son ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Met à jour le score d’un match",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID du match",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Nouveaux scores",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UpdateScoreRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/user/matches/{userId}": {
            "get": {
                "description": "Retourne les matchs auxquels un utilisateur a participé",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "match"
                ],
                "summary": "Liste des matchs d’un utilisateur",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Identifiant de l'utilisateur",
                        "name": "userId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/models.MatchResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve user information, including profile picture and preferences",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get a user by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.UserResponse"
                        }
                    },
                    "400": {
                        "description": "Missing ID in URL params",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Remove a user permanently",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Delete a user by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Missing ID in URL params",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "403": {
                        "description": "Incorrect rights",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update user fields",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Patch a user by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "User fields to update",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.UserPatchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Missing ID in URL params",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "403": {
                        "description": "Incorrect rights",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.Error"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "models.ChangePasswordRequest": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                }
            }
        },
        "models.CourtRankingResponse": {
            "type": "object",
            "properties": {
                "elo": {
                    "type": "integer"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "models.DBCourt": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "createdAt": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "models.Error": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "models.Field": {
            "type": "object",
            "properties": {
                "elo": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "ranking": {
                    "type": "integer"
                },
                "sport": {
                    "$ref": "#/definitions/models.Sport"
                }
            }
        },
        "models.HelloWorldResponse": {
            "type": "object",
            "properties": {
                "response": {
                    "type": "string"
                }
            }
        },
        "models.JoinMatchRequest": {
            "type": "object",
            "properties": {
                "team": {
                    "type": "integer"
                }
            }
        },
        "models.LoginRequest": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "models.LoginResponse": {
            "type": "object",
            "properties": {
                "token": {
                    "type": "string"
                },
                "userId": {
                    "type": "string"
                }
            }
        },
        "models.MailerRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                }
            }
        },
        "models.MatchRequest": {
            "type": "object",
            "properties": {
                "court_id": {
                    "type": "string"
                },
                "date": {
                    "type": "string"
                },
                "nbre_participant": {
                    "type": "integer"
                },
                "sport": {
                    "$ref": "#/definitions/models.Sport"
                }
            }
        },
        "models.MatchResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "current_state": {
                    "$ref": "#/definitions/models.MatchState"
                },
                "date": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "nbre_participant": {
                    "type": "integer"
                },
                "place": {
                    "type": "string"
                },
                "score1": {
                    "type": "integer"
                },
                "score2": {
                    "type": "integer"
                },
                "sport": {
                    "$ref": "#/definitions/models.Sport"
                },
                "users": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.UserResponse"
                    }
                }
            }
        },
        "models.MatchState": {
            "type": "string",
            "enum": [
                "Termine",
                "Manque Score",
                "En cours",
                "Valide",
                "Manque joueur"
            ],
            "x-enum-varnames": [
                "Termine",
                "ManqueScore",
                "EnCours",
                "Valide",
                "ManqueJoueur"
            ]
        },
        "models.MatchVoteStatusResponse": {
            "type": "object",
            "properties": {
                "matchId": {
                    "type": "string"
                },
                "myTeam": {
                    "$ref": "#/definitions/models.TeamVoteStatus"
                },
                "opponent": {
                    "$ref": "#/definitions/models.TeamVoteStatus"
                },
                "playerTeam": {
                    "type": "integer"
                }
            }
        },
        "models.RegisterRequest": {
            "type": "object",
            "properties": {
                "bio": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "models.ScorePair": {
            "type": "object",
            "properties": {
                "score1": {
                    "type": "integer"
                },
                "score2": {
                    "type": "integer"
                }
            }
        },
        "models.Sport": {
            "type": "string",
            "enum": [
                "basket",
                "foot",
                "ping-pong"
            ],
            "x-enum-varnames": [
                "Basket",
                "Foot",
                "PingPong"
            ]
        },
        "models.TeamVoteStatus": {
            "type": "object",
            "properties": {
                "hasVoted": {
                    "type": "boolean"
                },
                "score": {
                    "$ref": "#/definitions/models.ScorePair"
                }
            }
        },
        "models.UpdateScoreRequest": {
            "type": "object",
            "properties": {
                "score1": {
                    "type": "integer"
                },
                "score2": {
                    "type": "integer"
                }
            }
        },
        "models.UserPatchRequest": {
            "type": "object",
            "properties": {
                "bio": {
                    "description": "@nullable",
                    "type": "string"
                },
                "currentFieldId": {
                    "description": "@nullable",
                    "type": "string"
                },
                "email": {
                    "description": "@nullable",
                    "type": "string"
                },
                "username": {
                    "description": "@nullable",
                    "type": "string"
                }
            }
        },
        "models.UserResponse": {
            "type": "object",
            "properties": {
                "bio": {
                    "description": "@nullable",
                    "type": "string"
                },
                "createdAt": {
                    "type": "string"
                },
                "currentFieldId": {
                    "type": "string"
                },
                "favoriteCity": {
                    "description": "@nullable",
                    "type": "string"
                },
                "favoriteField": {
                    "description": "@nullable",
                    "type": "string"
                },
                "favoriteSport": {
                    "description": "@nullable",
                    "allOf": [
                        {
                            "$ref": "#/definitions/models.Sport"
                        }
                    ]
                },
                "fields": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Field"
                    }
                },
                "nbMatches": {
                    "type": "integer"
                },
                "profilePicture": {
                    "description": "@nullable",
                    "type": "string"
                },
                "sports": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.Sport"
                    }
                },
                "username": {
                    "type": "string"
                },
                "visitedFields": {
                    "type": "integer"
                },
                "winrate": {
                    "description": "@nullable",
                    "type": "integer"
                }
            }
        }
    }
}